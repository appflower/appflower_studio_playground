<?xml version="1.0" encoding="utf-8"?>
<i:view xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.appflower.com /schema/appflower.xsd"
xmlns:i="http://www.appflower.com/schema/" type="list">
	
	<i:title>User Management</i:title>
		<i:params>
			<i:param name="maxperpage">20</i:param>
		</i:params>
		
		<i:proxy url="parser/listjson" />
		
		<i:datasource type="orm">
			<i:class>sfGuardUserPeer</i:class>
			<i:method name="getAllUsers">
				<i:param name="foo">1</i:param>
			</i:method>
		</i:datasource>
		
		<i:display>
			<i:visible>html_status,username,account,name,login</i:visible>
		</i:display>
		
		<i:fields>
			<i:column name="html_status" sortable="false" editable="false" resizable="false" style="css" label="Status"/>
			<i:column name="name" sortable="false" editable="false" resizable="false" style="css" label="Name" filter="[type:string]" 
/>
			<i:column name="username" sortable="false" editable="false" resizable="false" style="css" label="Username" filter="[type:string]" 
/>
			<i:column name="login" sortable="false" editable="false" resizable="false" style="css" label="Last Login" filter="[type:date,dataIndex:timestamp]" 
/>
		</i:fields>
		
		<i:rowactions>		    
    		<i:action name="edit" iconCls="icon-edit-record" url="sfGuardUser/editUser" tooltip="Edit User" condition="sfGuardUserPeer,IsEditable"/>
    		<i:action name="delete" iconCls="icon-minus" url="sfGuardUser/deleteUser" tooltip="Delete User" condition="sfGuardUserPeer,IsEditable"/> 
    	</i:rowactions>
    	
    	<i:actions>
    	    <i:action name="Add User" iconCls="icon-plus" url="sfGuardUser/editUser" />
    	</i:actions>
    	
    	<i:moreactions>
    		<i:action name="Activate Selected" confirmMsg="You are going to activate the selected users.\r\nAre you sure?"  post="true" icon="/images/famfamfam/accept.png" url="/sfGuardUser/listActionsUserStatus/activate"></i:action>
  			<i:action name="Deactivate Selected" confirmMsg="You are going to deactivate the selected users.\r\nAre you sure?"  post="true" icon="/images/famfamfam/delete.png" url="/sfGuardUser/listActionsUserStatus/deactivate"></i:action>
  			
			<i:action name="Delete Selected" confirmMsg="Are you sure to delete selected users"  post="true" icon="/images/famfamfam/cross.png" url="/sfGuardUser/listActionsRemoveUser"></i:action>
			<i:action name="Delete All" forceSelection="false" confirmMsg="Are you sure to delete all users"  post="true" icon="/images/famfamfam/cross.png" url="/sfGuardUser/listActionsRemoveUser/all"></i:action>
		</i:moreactions>
		
    	<i:description>
    		<![CDATA[This widget lists the basic information about all the users of the system. You can add, edit or delete the users of the system. ]]>
		</i:description>
</i:view>
